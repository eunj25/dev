<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Two Sliders Example</title>

  <style>
    body {
      margin: 0;
      background: #0e0e0e;
      color: #fff;
      font-family: "Noto Sans KR", sans-serif;
      padding-bottom: 200px;
    }

    h2 {
      margin: 60px auto 20px;
      text-align: center;
      font-size: 32px;
      font-weight: 700;
      letter-spacing: -0.02em;
    }

    .container {
      width: 900px;
      max-width: 95%;
      margin: 0 auto 120px;
    }

    /* 공통 슬라이더 스타일 */
    .slider {
      position: relative;
      height: 400px;
      border-radius: 10px;
      overflow: hidden;
      background: #101a25;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
    }

    .slide {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      padding: 40px;
      gap: 30px;
      opacity: 0;
      pointer-events: none;
      transition: opacity .8s ease;
      will-change: opacity;
    }

    .slide.active {
      opacity: 1;
      pointer-events: auto;
    }

    .slide .bg {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      filter: brightness(.55);
      transform: translateY(0);
      transition: transform .8s ease;
    }

    .slide.active .bg {
      transform: translateY(-10px);
    }

    .content {
      position: relative;
      z-index: 2;
      max-width: 54%;
    }

    .content h3 {
      margin: 0 0 12px;
      font-size: 26px;
      line-height: 1.3;
      transform: translateY(20px);
      opacity: 0;
      transition: .6s ease;
    }

    .slide.active .content h3 {
      transform: translateY(0);
      opacity: 1;
      transition-delay: .1s;
    }

    .content p {
      margin: 0;
      line-height: 1.5;
      color: rgba(255, 255, 255, .85);
      transform: translateY(20px);
      opacity: 0;
      transition: .6s ease;
    }

    .slide.active .content p {
      transform: translateY(0);
      opacity: 1;
      transition-delay: .2s;
    }

    .thumb {
      position: relative;
      width: 34%;
      height: 280px;
      z-index: 2;
      border-radius: 6px;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.05);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: scale(1.05);
      transition: transform .8s ease;
    }

    .slide.active .thumb img {
      transform: scale(1);
    }

    .dots {
      position: absolute;
      left: 50%;
      bottom: 15px;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 5;
    }

    .dot {
      width: 9px;
      height: 9px;
      border-radius: 50%;
      background: rgba(255, 255, 255, .3);
      cursor: pointer;
      transition: .25s;
    }

    .dot.active {
      background: #fff;
      transform: scale(1.3);
    }
  </style>
</head>

<body>

  <!-- SECTION 1 -->
  <h2>RPA BUSINESS - Section 1</h2>
  <div class="container">
    <div class="slider" data-autoplay-interval="3000">
      <div class="dots"></div>

      <div class="slide active">
        <div class="bg" style="background-image:url('https://picsum.photos/id/1024/1200/700')"></div>
        <div class="content">
          <h3>첫 번째 섹션 - 첫 슬라이드</h3>
          <p>여긴 첫 번째 슬라이더. 두 개 섹션이 모두 같은 JS로 돌아가는 테스트 버전.</p>
        </div>
        <div class="thumb">
          <img src="https://picsum.photos/id/1024/600/400">
        </div>
      </div>

      <div class="slide">
        <div class="bg" style="background-image:url('https://picsum.photos/id/1035/1200/700')"></div>
        <div class="content">
          <h3>첫 번째 섹션 - 두 번째 슬라이드</h3>
          <p>페이드 + 텍스트 등장 + 패럴럭스가 그대로 적용됨.</p>
        </div>
        <div class="thumb">
          <img src="https://picsum.photos/id/1035/600/400">
        </div>
      </div>
    </div>
  </div>

  <!-- SECTION 2 -->
  <h2>RPA BUSINESS - Section 2</h2>
  <div class="container">
    <div class="slider" data-autoplay-interval="4000">
      <div class="dots"></div>

      <div class="slide active">
        <div class="bg" style="background-image:url('https://picsum.photos/id/1043/1200/700')"></div>
        <div class="content">
          <h3>두 번째 섹션 - 첫 슬라이드</h3>
          <p>JS를 복붙하지 않아도 그냥 slider 클래스를 여러 개 넣으면 된다.</p>
        </div>
        <div class="thumb">
          <img src="https://picsum.photos/id/1043/600/400">
        </div>
      </div>

      <div class="slide">
        <div class="bg" style="background-image:url('https://picsum.photos/id/1050/1200/700')"></div>
        <div class="content">
          <h3>두 번째 섹션 - 두 번째 슬라이드</h3>
          <p>이렇게 여러 섹션에서도 문제 없이 작동함.</p>
        </div>
        <div class="thumb">
          <img src="https://picsum.photos/id/1050/600/400">
        </div>
      </div>
    </div>
  </div>

  <!-- 공통 슬라이더 JS 로직 -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {

      const sliders = document.querySelectorAll(".slider");

      sliders.forEach((slider) => {
        const slides = Array.from(slider.querySelectorAll(".slide"));
        const dotsContainer = slider.querySelector(".dots");

        let current = 0;
        const interval = slider.dataset.autoplayInterval
          ? parseInt(slider.dataset.autoplayInterval)
          : 5000;

        // 초기 active 설정
        slides.forEach(s => s.classList.remove("active"));
        slides[0].classList.add("active");

        // 도트 생성
        dotsContainer.innerHTML = "";
        slides.forEach((_, i) => {
          const dot = document.createElement("div");
          dot.className = "dot" + (i === 0 ? " active" : "");
          dot.addEventListener("click", () => {
            goTo(i);
            resetTimer();
          });
          dotsContainer.appendChild(dot);
        });
        const dots = Array.from(dotsContainer.querySelectorAll(".dot"));

        function show(index) {
          slides.forEach((s, i) => s.classList.toggle("active", i === index));
          dots.forEach((d, i) => d.classList.toggle("active", i === index));
        }

        function goTo(i) {
          current = i;
          show(current);
        }

        function next() {
          current = (current + 1) % slides.length;
          show(current);
        }

        let timer = setInterval(next, interval);

        function resetTimer() {
          clearInterval(timer);
          timer = setInterval(next, interval);
        }

        slider.addEventListener("mouseenter", () => clearInterval(timer));
        slider.addEventListener("mouseleave", () => resetTimer());
      });

    });
  </script>
</body>

</html>